{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\i5-10400f\\\\Desktop\\\\movies-react\\\\src\\\\components\\\\HeroSlide\\\\HeroSlide.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport SwiperCore, { Autoplay } from 'swiper';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/swiper-bundle.min.css';\nimport 'swiper/swiper.min.css';\nimport tmdbApi, { category, movieType } from '../../api/tmdbAPI';\nimport apiConfig from '../../api/APIConfig';\nimport Button from '../Button/Button';\nimport \"./HeroSlide.scss\";\nimport { useHistory } from 'react-router';\nimport Modal, { ModalContent } from '../Modal/Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HeroSlide = () => {\n  _s();\n\n  const [movies, setMovies] = useState([]);\n  useEffect(() => {\n    const getMovies = async () => {\n      const params = {\n        page: 1\n      };\n\n      try {\n        const response = await tmdbApi.getMoviesList(movieType.popular, {\n          params\n        });\n        setMovies(response.results.slice(1, 10));\n        console.log(response);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    getMovies();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"hero-slide\",\n    children: [/*#__PURE__*/_jsxDEV(Swiper, {\n      modules: [Autoplay],\n      grabCursor: true,\n      spaceBetween: 0,\n      slidesPerView: 1,\n      autoplay: {\n        delay: 3000\n      },\n      children: movies.map((item, i) => /*#__PURE__*/_jsxDEV(SwiperSlide, {\n        children: ({\n          isActive\n        }) => /*#__PURE__*/_jsxDEV(HeroSlideItem, {\n          item: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 33\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), movies.map((item, i) => /*#__PURE__*/_jsxDEV(TrailerModal, {\n      item: item\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 20\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n\n_s(HeroSlide, \"MO6b3PSP3RIUqZ8gtSrBZBVtBbs=\");\n\n_c = HeroSlide;\n\nconst HeroSlideItem = props => {\n  _s2();\n\n  let hisrory = useHistory();\n  const item = props.item;\n  const background = apiConfig.originalImage(item.backdrop_path ? item.backdrop_path : item.poster_path);\n  const poster = apiConfig.w500Image(item.poster_path);\n\n  const setModalActive = async () => {\n    const videos = await tmdbApi.getVideos(category.movie, item.id);\n    const modal = document.querySelector(`#modal_${item.id}`);\n\n    if (videos.results.length > 0) {\n      const videSrc = 'https://www.youtube.com/embed/' + videos.results[0].key;\n      modal.querySelector('.modal__content > iframe').setAttribute('src', videSrc);\n    } else {\n      modal.querySelector('.modal__content').innerHTML = 'No trailer';\n    }\n\n    modal.classList.toggle('active');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"hero-slide\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie\",\n      style: {\n        backgroundImage: `url(${background})`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movie-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"movie-desc\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"movie-title\",\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"movie-overview\",\n            children: item.overview\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"buttons\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => hisrory.push('/movie/' + item.id),\n              children: \"Watch Now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              btnstyle: \"btn--outlined\",\n              onClick: setModalActive,\n              children: \"Watch Trailer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"movie-poster\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: poster,\n            alt: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(HeroSlideItem, \"JdRvKuhMmRWQtVv8IgVX1b80ssM=\", false, function () {\n  return [useHistory];\n});\n\n_c2 = HeroSlideItem;\n\nconst TrailerModal = props => {\n  _s3();\n\n  const item = props.item;\n  const iframeRef = useRef(null);\n\n  const onClose = () => iframeRef.current.setAttribute('src', '');\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    active: false,\n    id: `modal_${item.id}`,\n    children: /*#__PURE__*/_jsxDEV(ModalContent, {\n      onClose: onClose,\n      children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n        ref: iframeRef,\n        width: \"100%\",\n        height: \"1000px\",\n        title: \"trailer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 9\n  }, this);\n};\n\n_s3(TrailerModal, \"HIHwOEFe13FUYgDPZ3BBEH738M4=\");\n\n_c3 = TrailerModal;\nexport default HeroSlide;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"HeroSlide\");\n$RefreshReg$(_c2, \"HeroSlideItem\");\n$RefreshReg$(_c3, \"TrailerModal\");","map":{"version":3,"sources":["C:/Users/i5-10400f/Desktop/movies-react/src/components/HeroSlide/HeroSlide.jsx"],"names":["React","useState","useEffect","useRef","SwiperCore","Autoplay","Swiper","SwiperSlide","tmdbApi","category","movieType","apiConfig","Button","useHistory","Modal","ModalContent","HeroSlide","movies","setMovies","getMovies","params","page","response","getMoviesList","popular","results","slice","console","log","error","delay","map","item","i","isActive","HeroSlideItem","props","hisrory","background","originalImage","backdrop_path","poster_path","poster","w500Image","setModalActive","videos","getVideos","movie","id","modal","document","querySelector","length","videSrc","key","setAttribute","innerHTML","classList","toggle","backgroundImage","title","overview","push","TrailerModal","iframeRef","onClose","current"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react'\r\nimport SwiperCore ,{ Autoplay } from 'swiper'\r\nimport {Swiper, SwiperSlide} from 'swiper/react'\r\nimport 'swiper/swiper-bundle.min.css'\r\nimport 'swiper/swiper.min.css'\r\nimport tmdbApi, {category, movieType} from '../../api/tmdbAPI'\r\nimport apiConfig from '../../api/APIConfig'\r\nimport Button from '../Button/Button'\r\nimport \"./HeroSlide.scss\"\r\nimport { useHistory } from 'react-router';\r\nimport Modal, { ModalContent } from '../Modal/Modal'\r\n\r\nconst HeroSlide = () => {\r\n\r\n    const [movies, setMovies] = useState([])\r\n    useEffect(() => {\r\n        const getMovies = async () => {\r\n            const params = {page: 1}\r\n            try {\r\n                const response = await tmdbApi.getMoviesList(movieType.popular, {params});\r\n                setMovies(response.results.slice(1,10))\r\n                console.log(response)\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n\r\n        }\r\n        getMovies();\r\n    },[])\r\n    return (\r\n        <div className=\"hero-slide\">\r\n            <Swiper\r\n                modules={[Autoplay]}\r\n                grabCursor={true}\r\n                spaceBetween={0}\r\n                slidesPerView={1}\r\n                autoplay={{delay: 3000}}>\r\n                {\r\n                    movies.map((item, i) => (\r\n                        <SwiperSlide key={i}>\r\n                            {({ isActive }) => (\r\n                                <HeroSlideItem item={item}/>\r\n                            )}\r\n                        </SwiperSlide>\r\n                    ))\r\n                }\r\n            </Swiper>\r\n           {\r\n               movies.map((item, i) => (\r\n                   <TrailerModal key={i} item={item} />\r\n               ))\r\n           }\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nconst HeroSlideItem = props => {\r\n    let hisrory = useHistory();\r\n    const item = props.item;\r\n    const background = apiConfig.originalImage(item.backdrop_path ? item.backdrop_path : item.poster_path)\r\n    const poster = apiConfig.w500Image(item.poster_path)\r\n\r\n    const setModalActive = async () => {\r\n        const videos = await tmdbApi.getVideos(category.movie, item.id)\r\n        const modal = document.querySelector(`#modal_${item.id}`)\r\n        if (videos.results.length > 0) {\r\n\r\n            const videSrc = 'https://www.youtube.com/embed/' + videos.results[0].key;\r\n            modal.querySelector('.modal__content > iframe').setAttribute('src', videSrc);\r\n\r\n        } else {\r\n            modal.querySelector('.modal__content').innerHTML = 'No trailer';\r\n        }\r\n        modal.classList.toggle('active')\r\n    }\r\n\r\n    return (\r\n        <div className=\"hero-slide\">\r\n            <div className=\"movie\" style={{backgroundImage: `url(${background})`}}>\r\n            <div className=\"movie-info\">\r\n                <div className=\"movie-desc\">\r\n                        <h1 className='movie-title'>{item.title}</h1>\r\n                        <p className='movie-overview'>{item.overview}</p>\r\n                        <div className=\"buttons\">\r\n                            <Button onClick={() => hisrory.push('/movie/' + item.id)}>Watch Now</Button>\r\n                            <Button btnstyle='btn--outlined' onClick={setModalActive}>Watch Trailer</Button>\r\n                        </div>\r\n                </div>\r\n                <div className=\"movie-poster\">\r\n                    <img src={poster} alt={item.title} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\n\r\n\r\nconst TrailerModal = props => {\r\n    const item = props.item;\r\n    const iframeRef = useRef(null);\r\n    const onClose = () => iframeRef.current.setAttribute('src', '');\r\n\r\n    return (\r\n        <Modal active={false} id={`modal_${item.id}`}>\r\n            <ModalContent onClose={onClose} >\r\n            <iframe ref={iframeRef} width=\"100%\" height=\"1000px\" title=\"trailer\"></iframe>\r\n            </ModalContent>\r\n        </Modal>\r\n    )\r\n}\r\n\r\n\r\nexport default HeroSlide;\r\n"]},"metadata":{},"sourceType":"module"}