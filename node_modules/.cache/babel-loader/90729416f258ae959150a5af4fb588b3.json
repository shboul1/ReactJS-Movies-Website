{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/i5-10400f/Desktop/movies-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/i5-10400f/Desktop/movies-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/i5-10400f/Desktop/movies-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./movie-list.scss';import tmdbApi,{category}from'../../api/tmdbAPI';import{Swiper,SwiperSlide}from'swiper/react';import MovieCard from'../MovieCard/MovieCard';import{jsx as _jsx}from\"react/jsx-runtime\";var MovieList=function MovieList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];useEffect(function(){var getList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,params;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:response=null;params={};if(!(props.type!=='similar')){_context.next=15;break;}_context.t0=props.category;_context.next=_context.t0===category.movie?6:10;break;case 6:_context.next=8;return tmdbApi.getMoviesList(props.type,{params:params});case 8:response=_context.sent;return _context.abrupt(\"break\",13);case 10:_context.next=12;return tmdbApi.getTvList(props.type,{params:params});case 12:response=_context.sent;case 13:_context.next=18;break;case 15:_context.next=17;return tmdbApi.similar(props.category,props.id);case 17:response=_context.sent;case 18:setItems(response.results);case 19:case\"end\":return _context.stop();}}},_callee);}));return function getList(){return _ref.apply(this,arguments);};}();getList();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"movie-list\",children:/*#__PURE__*/_jsx(Swiper,{grabCursor:true,spaceBetween:10,slidesPerView:'auto',children:items.map(function(item,i){return/*#__PURE__*/_jsx(SwiperSlide,{children:/*#__PURE__*/_jsx(MovieCard,{category:props.category,item:item})},i);})})});};export default MovieList;","map":{"version":3,"sources":["C:/Users/i5-10400f/Desktop/movies-react/src/components/MovieList/MovieList.jsx"],"names":["React","useState","useEffect","tmdbApi","category","Swiper","SwiperSlide","MovieCard","MovieList","props","items","setItems","getList","response","params","type","movie","getMoviesList","getTvList","similar","id","results","map","item","i"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CAEA,MAAO,mBAAP,CACA,MAAOC,CAAAA,OAAP,EAAiBC,QAAjB,KAAgC,mBAAhC,CACA,OAAQC,MAAR,CAAgBC,WAAhB,KAAkC,cAAlC,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,C,2CACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAI,CAEvB,cAA0BR,QAAQ,CAAC,EAAD,CAAlC,wCAAOS,KAAP,eAAcC,QAAd,eAEAT,SAAS,CAAC,UAAM,CACZ,GAAMU,CAAAA,OAAO,0FAAG,uJACRC,QADQ,CACG,IADH,CAENC,MAFM,CAEG,EAFH,MAGTL,KAAK,CAACM,IAAN,GAAe,SAHN,uCAIDN,KAAK,CAACL,QAJL,6BAKCA,QAAQ,CAACY,KALV,yCAMiBb,CAAAA,OAAO,CAACc,aAAR,CAAsBR,KAAK,CAACM,IAA5B,CAAkC,CAACD,MAAM,CAANA,MAAD,CAAlC,CANjB,QAMAD,QANA,iFASqBV,CAAAA,OAAO,CAACe,SAAR,CAAkBT,KAAK,CAACM,IAAxB,CAA8B,CAACD,MAAM,CAANA,MAAD,CAA9B,CATrB,SASID,QATJ,6EAYSV,CAAAA,OAAO,CAACgB,OAAR,CAAgBV,KAAK,CAACL,QAAtB,CAAgCK,KAAK,CAACW,EAAtC,CAZT,SAYRP,QAZQ,uBAeZF,QAAQ,CAACE,QAAQ,CAACQ,OAAV,CAAR,CAfY,uDAAH,kBAAPT,CAAAA,OAAO,0CAAb,CAiBAA,OAAO,GACV,CAnBQ,CAmBN,EAnBM,CAAT,CAqBA,mBACI,YAAK,SAAS,CAAC,YAAf,uBACI,KAAC,MAAD,EACA,UAAU,CAAE,IADZ,CAEA,YAAY,CAAE,EAFd,CAGA,aAAa,CAAE,MAHf,UAKCF,KAAK,CAACY,GAAN,CAAU,SAACC,IAAD,CAAOC,CAAP,qBACP,KAAC,WAAD,wBACI,KAAC,SAAD,EAAW,QAAQ,CAAEf,KAAK,CAACL,QAA3B,CAAqC,IAAI,CAAEmB,IAA3C,EADJ,EAAkBC,CAAlB,CADO,EAAV,CALD,EADJ,EADJ,CAeH,CAxCD,CA+CA,cAAehB,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport './movie-list.scss'\r\nimport tmdbApi, {category} from '../../api/tmdbAPI'\r\nimport {Swiper, SwiperSlide} from 'swiper/react'\r\nimport MovieCard from '../MovieCard/MovieCard'\r\nconst MovieList = props => {\r\n\r\n    const [items, setItems] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const getList = async () => {\r\n            let response = null;\r\n            const params = {};\r\n            if(props.type !== 'similar'){\r\n                switch(props.category){\r\n                    case category.movie:\r\n                        response = await tmdbApi.getMoviesList(props.type, {params});\r\n                        break;\r\n                        default:\r\n                            response = await tmdbApi.getTvList(props.type, {params});\r\n                }\r\n            } else {\r\n                response = await tmdbApi.similar(props.category, props.id)\r\n                \r\n            }\r\n            setItems(response.results)\r\n        }\r\n        getList();\r\n    } ,[])\r\n\r\n    return (\r\n        <div className=\"movie-list\">\r\n            <Swiper\r\n            grabCursor={true}\r\n            spaceBetween={10}\r\n            slidesPerView={'auto'}\r\n            >\r\n            {items.map((item, i) => (\r\n                <SwiperSlide key={i}>\r\n                    <MovieCard category={props.category} item={item} />\r\n                </SwiperSlide>\r\n            ))}\r\n            </Swiper>\r\n        </div>\r\n    )\r\n}\r\n\r\nMovieList.propTypes = {\r\n    category: PropTypes.string.isRequired,\r\n    type: PropTypes.string.isRequired\r\n}\r\n\r\nexport default MovieList;\r\n"]},"metadata":{},"sourceType":"module"}